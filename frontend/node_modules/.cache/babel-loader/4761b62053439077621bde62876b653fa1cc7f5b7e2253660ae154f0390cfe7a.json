{"ast":null,"code":"import{useState,useRef}from\"react\";import{motion}from\"framer-motion\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[prompt,setPrompt]=useState(\"\");const[useCase,setUseCase]=useState(\"interior\");const[images,setImages]=useState([]);const[count,setCount]=useState(3);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[listening,setListening]=useState(false);const recognitionRef=useRef(null);// ðŸŽ¤ Setup speech recognition\nfunction initSpeechRecognition(){const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;if(!SpeechRecognition){alert(\"Your browser does not support Speech Recognition. Try Chrome.\");return null;}const recognition=new SpeechRecognition();recognition.lang=\"en-US\";recognition.continuous=false;recognition.interimResults=false;recognition.onstart=()=>setListening(true);recognition.onend=()=>setListening(false);recognition.onerror=e=>{console.error(\"Speech error:\",e);setListening(false);};recognition.onresult=event=>{const transcript=event.results[0][0].transcript;setPrompt(prev=>prev+\" \"+transcript);};return recognition;}function handleMicClick(){if(listening&&recognitionRef.current){recognitionRef.current.stop();return;}recognitionRef.current=initSpeechRecognition();if(recognitionRef.current){recognitionRef.current.start();}}// ðŸ”¥ Generate images\nasync function handleGenerate(){setLoading(true);setError(\"\");setImages([]);try{const res=await fetch(\"https://text2design-5.onrender.com/api/generate-image\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({prompt,useCase,count})});const data=await res.json();if(data.error)throw new Error(data.error);setImages(data.images||[]);}catch(err){console.error(err);setError(\"Error: \"+err.message);}finally{setLoading(false);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(motion.h1,{className:\"title\",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6},children:\"\\uD83C\\uDFA8 Voice-to-Design AI Studio\"}),/*#__PURE__*/_jsxs(motion.div,{className:\"form-box\",initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:0.6},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Use Case\"}),/*#__PURE__*/_jsxs(\"select\",{value:useCase,onChange:e=>setUseCase(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"interior\",children:\"Interior\"}),/*#__PURE__*/_jsx(\"option\",{value:\"architecture\",children:\"Architecture\"}),/*#__PURE__*/_jsx(\"option\",{value:\"construction\",children:\"Construction\"}),/*#__PURE__*/_jsx(\"option\",{value:\"event\",children:\"Event\"})]}),/*#__PURE__*/_jsx(\"label\",{style:{marginTop:\"15px\",display:\"block\"},children:\"Enter Prompt\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"10px\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"textarea\",{value:prompt,onChange:e=>setPrompt(e.target.value),placeholder:\"Speak or type your design idea...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleMicClick,style:{background:listening?\"red\":\"#4cafef\",color:\"white\",borderRadius:\"50%\",width:\"50px\",height:\"50px\",fontSize:\"20px\",cursor:\"pointer\"},children:\"\\uD83C\\uDFA4\"})]}),/*#__PURE__*/_jsx(\"label\",{style:{marginTop:\"15px\",display:\"block\"},children:\"Number of Concepts\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"5\",value:count,onChange:e=>setCount(Number(e.target.value))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerate,disabled:loading,children:loading?\"âœ¨ Generating...\":\"Generate \".concat(count,\" Concepts\")})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"results-grid\",children:[images.map((img,idx)=>/*#__PURE__*/_jsx(motion.div,{className:\"card\",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:idx*0.2},children:/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"Concept \".concat(idx+1),style:{width:\"100%\",borderRadius:\"10px\"}})},idx)),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Designed and developed by Chethan K L  \"})})]})]});}export default App;","map":{"version":3,"names":["useState","useRef","motion","jsx","_jsx","jsxs","_jsxs","App","prompt","setPrompt","useCase","setUseCase","images","setImages","count","setCount","loading","setLoading","error","setError","listening","setListening","recognitionRef","initSpeechRecognition","SpeechRecognition","window","webkitSpeechRecognition","alert","recognition","lang","continuous","interimResults","onstart","onend","onerror","e","console","onresult","event","transcript","results","prev","handleMicClick","current","stop","start","handleGenerate","res","fetch","method","headers","body","JSON","stringify","data","json","Error","err","message","className","children","h1","initial","opacity","y","animate","transition","duration","div","scale","value","onChange","target","style","marginTop","display","gap","alignItems","placeholder","onClick","background","color","borderRadius","width","height","fontSize","cursor","type","min","max","Number","disabled","concat","map","img","idx","delay","src","alt"],"sources":["C:/Users/CHETHAN K  L/OneDrive/Desktop/Text2design/frontend/src/App.js"],"sourcesContent":["import { useState, useRef } from \"react\";\nimport { motion } from \"framer-motion\";\nimport \"./App.css\";\n\nfunction App() {\n  const [prompt, setPrompt] = useState(\"\");\n  const [useCase, setUseCase] = useState(\"interior\");\n  const [images, setImages] = useState([]);\n  const [count, setCount] = useState(3);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [listening, setListening] = useState(false);\n\n  const recognitionRef = useRef(null);\n\n  // ðŸŽ¤ Setup speech recognition\n  function initSpeechRecognition() {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SpeechRecognition) {\n      alert(\"Your browser does not support Speech Recognition. Try Chrome.\");\n      return null;\n    }\n\n    const recognition = new SpeechRecognition();\n    recognition.lang = \"en-US\";\n    recognition.continuous = false;\n    recognition.interimResults = false;\n\n    recognition.onstart = () => setListening(true);\n    recognition.onend = () => setListening(false);\n    recognition.onerror = (e) => {\n      console.error(\"Speech error:\", e);\n      setListening(false);\n    };\n\n    recognition.onresult = (event) => {\n      const transcript = event.results[0][0].transcript;\n      setPrompt((prev) => prev + \" \" + transcript);\n    };\n\n    return recognition;\n  }\n\n  function handleMicClick() {\n    if (listening && recognitionRef.current) {\n      recognitionRef.current.stop();\n      return;\n    }\n\n    recognitionRef.current = initSpeechRecognition();\n    if (recognitionRef.current) {\n      recognitionRef.current.start();\n    }\n  }\n\n  // ðŸ”¥ Generate images\n  async function handleGenerate() {\n    setLoading(true);\n    setError(\"\");\n    setImages([]);\n    try {\n      const res = await fetch(\"https://text2design-5.onrender.com/api/generate-image\", {\n  method: \"POST\",\n  headers: { \"Content-Type\": \"application/json\" },\n  body: JSON.stringify({ prompt, useCase, count })\n      });\n      const data = await res.json();\n      if (data.error) throw new Error(data.error);\n      setImages(data.images || []);\n    } catch (err) {\n      console.error(err);\n      setError(\"Error: \" + err.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <motion.h1 \n        className=\"title\"\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.6 }}\n      >\n        ðŸŽ¨ Voice-to-Design AI Studio\n      </motion.h1>\n\n      {/* Form Box */}\n      <motion.div \n        className=\"form-box\"\n        initial={{ scale: 0.9, opacity: 0 }}\n        animate={{ scale: 1, opacity: 1 }}\n        transition={{ duration: 0.6 }}\n      >\n        <label>Select Use Case</label>\n        <select value={useCase} onChange={(e) => setUseCase(e.target.value)}>\n          <option value=\"interior\">Interior</option>\n          <option value=\"architecture\">Architecture</option>\n          <option value=\"construction\">Construction</option>\n          <option value=\"event\">Event</option>\n        </select>\n\n        <label style={{ marginTop: \"15px\", display: \"block\" }}>Enter Prompt</label>\n        <div style={{ display: \"flex\", gap: \"10px\", alignItems: \"center\" }}>\n          <textarea\n            value={prompt}\n            onChange={(e) => setPrompt(e.target.value)}\n            placeholder=\"Speak or type your design idea...\"\n          />\n          <button\n            onClick={handleMicClick}\n            style={{\n              background: listening ? \"red\" : \"#4cafef\",\n              color: \"white\",\n              borderRadius: \"50%\",\n              width: \"50px\",\n              height: \"50px\",\n              fontSize: \"20px\",\n              cursor: \"pointer\"\n            }}\n          >\n            ðŸŽ¤\n          </button>\n        </div>\n\n        <label style={{ marginTop: \"15px\", display: \"block\" }}>Number of Concepts</label>\n        <input\n          type=\"number\"\n          min=\"1\"\n          max=\"5\"\n          value={count}\n          onChange={(e) => setCount(Number(e.target.value))}\n        />\n\n        <button onClick={handleGenerate} disabled={loading}>\n          {loading ? \"âœ¨ Generating...\" : `Generate ${count} Concepts`}\n        </button>\n      </motion.div>\n\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n\n      {/* Results */}\n      <div className=\"results-grid\">\n        {images.map((img, idx) => (\n          <motion.div\n            key={idx}\n            className=\"card\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: idx * 0.2 }}\n          >\n            <img\n              src={img}\n              alt={`Concept ${idx + 1}`}\n              style={{ width: \"100%\", borderRadius: \"10px\" }}\n            />\n          </motion.div>\n        ))}\n        <div><h5>Designed and developed by Chethan K L  </h5></div>\n      </div>\n    </div>\n    \n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}